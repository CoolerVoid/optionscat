/**
 * @package   PickMeUp - jQuery datepicker plugin
 * @author    Nazar Mokrynskyi <nazar@mokrynskyi.com>
 * @author    Stefan Petre <www.eyecon.ro>
 * @copyright Copyright (c) 2013-2016, Nazar Mokrynskyi
 * @copyright Copyright (c) 2008-2009, Stefan Petre
 * @license   MIT License, see license.txt
 */
(function(g){function r(){for(var g=new Date(this.toString()),l=28,r=g.getMonth();g.getMonth()==r;)++l,g.setDate(l);return l-1}g.addDays=function(g){this.setDate(this.getDate()+g)};g.addMonths=function(g){var l=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+g);this.setDate(Math.min(l,r.apply(this)))};g.addYears=function(g){var l=this.getDate();this.setDate(1);this.setFullYear(this.getFullYear()+g);this.setDate(Math.min(l,r.apply(this)))};g.getDayOfYear=function(){var g=new Date(this.getFullYear(),
this.getMonth(),this.getDate(),0,0,0),l=new Date(this.getFullYear(),0,0,0,0,0);return Math.floor((g-l)/24*36E5)}})(Date.prototype);
(function(g){"function"===typeof define&&define.amd?define(["jquery"],g):"object"===typeof exports?g(require("jquery")):g(jQuery)})(function(g){function r(a,b){a=a.split(" ");for(var d=0;d<a.length;++d)a[d]+=b;return a.join(" ")}function B(){var a=g(this).data("pickmeup-options"),b=this.pickmeup,d=Math.floor(a.calendars/2),c=a.date,f=a.current,n=a.min?new Date(a.min):null,e=a.max?new Date(a.max):null,h,l,m,p,q,t;n&&(n.setDate(1),n.addMonths(1),n.addDays(-1));e&&(e.setDate(1),e.addMonths(1),e.addDays(-1));
b.find(".pmu-instance > :not(nav)").remove();for(var k=0;k<a.calendars;k++){h=new Date(f);v(h);p=b.find(".pmu-instance").eq(k);b.hasClass("pmu-view-years")?(h.addYears(12*(k-d)),l=h.getFullYear()-6+" - "+(h.getFullYear()+5)):b.hasClass("pmu-view-months")?(h.addYears(k-d),l=h.getFullYear()):b.hasClass("pmu-view-days")&&(h.addMonths(k-d),l=w(h,a.title_format,a.locale));if(!t&&e&&(t=new Date(h),a.select_day?t.addMonths(a.calendars-1):a.select_month?t.addYears(a.calendars-1):t.addYears(12*(a.calendars-
1)),t>e)){--k;f.addMonths(-1);t=void 0;continue}t=new Date(h);if(!q&&(q=new Date(h),q.setDate(1),q.addMonths(1),q.addDays(-1),n&&n>q)){--k;f.addMonths(1);q=void 0;continue}p.find(".pmu-month").text(l);m="";var r=function(b){return"range"==a.mode&&b>=(new Date(c[0])).getFullYear()&&b<=(new Date(c[1])).getFullYear()||"multiple"==a.mode&&-1!==c.reduce(function(a,c){a.push((new Date(c)).getFullYear());return a},[]).indexOf(b)||(new Date(c)).getFullYear()==b},y=function(b,d){var e=(new Date(c[0])).getFullYear(),
f=(new Date(c[1])).getFullYear(),g=(new Date(c[0])).getMonth(),h=(new Date(c[1])).getMonth();return"range"==a.mode&&b>e&&b<f||"range"==a.mode&&b==e&&b<f&&d>=g||"range"==a.mode&&b>e&&b==f&&d<=h||"range"==a.mode&&b==e&&b==f&&d>=g&&d<=h||"multiple"==a.mode&&-1!==c.reduce(function(a,c){c=new Date(c);a.push(c.getFullYear()+"-"+c.getMonth());return a},[]).indexOf(b+"-"+d)||(new Date(c)).getFullYear()==b&&(new Date(c)).getMonth()==d};(function(){for(var c=[],b=h.getFullYear()-6,d=(new Date(a.min)).getFullYear(),
e=(new Date(a.max)).getFullYear(),f,g=0;12>g;++g)f={text:b+g,class_name:[]},a.min&&f.text<d||a.max&&f.text>e?f.class_name.push("pmu-disabled"):r(f.text)&&f.class_name.push("pmu-selected"),f.class_name=f.class_name.join(" "),c.push(f);m+=x.body(c,"pmu-years")})();(function(){var c=[],b=h.getFullYear(),d=(new Date(a.min)).getFullYear(),f=(new Date(a.min)).getMonth(),e=(new Date(a.max)).getFullYear(),g=(new Date(a.max)).getMonth(),k,n;for(n=0;12>n;++n)k={text:a.locale.monthsShort[n],class_name:[]},a.min&&
(b<d||n<f&&b==d)||a.max&&(b>e||n>g&&b>=e)?k.class_name.push("pmu-disabled"):y(b,n)&&k.class_name.push("pmu-selected"),k.class_name=k.class_name.join(" "),c.push(k);m+=x.body(c,"pmu-months")})();(function(){var c=[],b=h.getMonth(),d=v(new Date).valueOf(),f,e,g,k,n;(function(){h.setDate(1);var c=(h.getDay()-a.first_day)%7;h.addDays(-(c+(0>c?7:0)))})();for(e=0;42>e;++e)f={text:h.getDate(),class_name:[]},b!=h.getMonth()&&f.class_name.push("pmu-not-in-month"),0==h.getDay()?f.class_name.push("pmu-sunday"):
6==h.getDay()&&f.class_name.push("pmu-saturday"),g=a.render(new Date(h))||{},k=h.valueOf(),n=a.min&&a.min>h||a.max&&a.max<h,g.disabled||n?f.class_name.push("pmu-disabled"):(g.selected||a.date.valueOf()==k||a.date instanceof Array&&a.date.reduce(function(a,c){return a||k===c.valueOf()},!1)||"range"==a.mode&&k>=a.date[0]&&k<=a.date[1])&&f.class_name.push("pmu-selected"),k==d&&f.class_name.push("pmu-today"),g.class_name&&f.class_name.push(g.class_name),f.class_name=f.class_name.join(" "),c.push(f),h.addDays(1);
m+=x.body(c,"pmu-days")})();p.append(m)}q.setDate(1);t.setDate(1);t.addMonths(1);t.addDays(-1);b.find(".pmu-prev").css("visibility",a.min&&a.min>=q?"hidden":"visible");b.find(".pmu-next").css("visibility",a.max&&a.max<=t?"hidden":"visible");a.fill.apply(this)}function l(a,b,d,c){var f;if(a instanceof Date||a instanceof Number)return v(new Date(a));if(!a)return v(new Date);if(a instanceof Array){a=a.slice();for(f=0;f<a.length;++f)a[f]=l(a[f]);return a}f=a.split(d);if(1<f.length)return f.forEach(function(a,
f,e){e[f]=l(g.trim(a),b,d,c)}),f;f=c.monthsShort.join(")(")+")("+c.months.join(")(");d=new RegExp("[^0-9a-zA-Z("+f+")]+");a=a.split(d);var n=b.split(d),e,h,u,m,p,q=new Date;for(f=0;f<a.length;f++)switch(n[f]){case "b":h=c.monthsShort.indexOf(a[f]);break;case "B":h=c.months.indexOf(a[f]);break;case "d":case "e":e=parseInt(a[f],10);break;case "m":h=parseInt(a[f],10)-1;break;case "Y":case "y":u=parseInt(a[f],10);u+=100<u?0:29>u?2E3:1900;break;case "H":case "I":case "k":case "l":m=parseInt(a[f],10);break;
case "P":case "p":/pm/i.test(a[f])&&12>m?m+=12:/am/i.test(a[f])&&12<=m&&(m-=12);break;case "M":p=parseInt(a[f],10)}e=new Date(void 0===u?q.getFullYear():u,void 0===h?q.getMonth():h,void 0===e?q.getDate():e,void 0===m?q.getHours():m,void 0===p?q.getMinutes():p,0);isNaN(1*e)&&(e=new Date);return v(e)}function v(a){a.setHours(0,0,0,0);return a}function w(a,b,d){var c=a.getMonth(),f=a.getDate(),g=a.getFullYear(),e=a.getDay(),h=a.getHours(),l=12<=h,m=l?h-12:h,p=a.getDayOfYear();0==m&&(m=12);var q=a.getMinutes(),
t=a.getSeconds();b=b.split("");for(var k,r=0;r<b.length;r++){k=b[r];switch(k){case "a":k=d.daysShort[e];break;case "A":k=d.days[e];break;case "b":k=d.monthsShort[c];break;case "B":k=d.months[c];break;case "C":k=1+Math.floor(g/100);break;case "d":k=10>f?"0"+f:f;break;case "e":k=f;break;case "H":k=10>h?"0"+h:h;break;case "I":k=10>m?"0"+m:m;break;case "j":k=100>p?10>p?"00"+p:"0"+p:p;break;case "k":k=h;break;case "l":k=m;break;case "m":k=9>c?"0"+(1+c):1+c;break;case "M":k=10>q?"0"+q:q;break;case "p":case "P":k=
l?"PM":"AM";break;case "s":k=Math.floor(a.getTime()/1E3);break;case "S":k=10>t?"0"+t:t;break;case "u":k=e+1;break;case "w":k=e;break;case "y":k=(""+g).substr(2,2);break;case "Y":k=g}b[r]=k}return b.join("")}function C(a){var b=g(this),d=b.data("pickmeup-options"),c;v(a);a:{var f;switch(d.mode){case "multiple":f=a.valueOf();for(c=0;c<d.date.length;++c)if(d.date[c].valueOf()===f){d.date.splice(c,1);break a}d.date.push(a);break;case "range":d.lastSel||(d.date[0]=a);a<=d.date[0]?(d.date[1]=d.date[0],
d.date[0]=a):d.date[1]=a;d.lastSel=!d.lastSel;break;default:d.date=a.valueOf()}}a=y(d);b.is("input")&&b.val("single"==d.mode?a[0]:a[0].join(d.separator));d.change.apply(this,a);if(!d.flat&&d.hide_on_select&&("range"!=d.mode||!d.lastSel))return d.binded.hide(),!1}function D(a){a=g(a.target);a.hasClass("pmu-button")||(a=a.closest(".pmu-button"));if(a.length){if(a.hasClass("pmu-disabled"))return!1;var b=g(this).data("pickmeup-options"),d=a.parents(".pmu-instance").eq(0),c=d.parent(),f=g(".pmu-instance",
c).index(d);a.parent().is("nav")?a.hasClass("pmu-month")?(b.current.addMonths(f-Math.floor(b.calendars/2)),c.hasClass("pmu-view-years")?(b.current="single"!=b.mode?new Date(b.date[b.date.length-1]):new Date(b.date),b.select_day?c.removeClass("pmu-view-years").addClass("pmu-view-days"):b.select_month&&c.removeClass("pmu-view-years").addClass("pmu-view-months")):c.hasClass("pmu-view-months")?b.select_year?c.removeClass("pmu-view-months").addClass("pmu-view-years"):b.select_day&&c.removeClass("pmu-view-months").addClass("pmu-view-days"):
c.hasClass("pmu-view-days")&&(b.select_month?c.removeClass("pmu-view-days").addClass("pmu-view-months"):b.select_year&&c.removeClass("pmu-view-days").addClass("pmu-view-years"))):a.hasClass("pmu-prev")?b.binded.prev(!1):b.binded.next(!1):a.hasClass("pmu-disabled")||(c.hasClass("pmu-view-years")?(b.current.setFullYear(parseInt(a.text(),10)),b.select_month?c.removeClass("pmu-view-years").addClass("pmu-view-months"):b.select_day?c.removeClass("pmu-view-years").addClass("pmu-view-days"):b.binded.update_date(b.current)):
c.hasClass("pmu-view-months")?(b.current.setMonth(d.find(".pmu-months .pmu-button").index(a)),b.current.setFullYear(parseInt(d.find(".pmu-month").text(),10)),b.select_day?c.removeClass("pmu-view-months").addClass("pmu-view-days"):b.binded.update_date(b.current),b.current.addMonths(Math.floor(b.calendars/2)-f)):(d=parseInt(a.text(),10),c=new Date(b.current),c.addMonths(f-Math.floor(b.calendars/2)),a.hasClass("pmu-not-in-month")&&c.addMonths(15<d?-1:1),c.setDate(d),b.binded.update_date(c)));b.binded.fill()}return!1}
function y(a){var b;if("single"==a.mode)return b=new Date(a.date),[w(b,a.format,a.locale),b];b=[[],[]];g.each(a.date,function(d,c){var f=new Date(c);b[0].push(w(f,a.format,a.locale));b[1].push(f)});return b}function z(a){var b=this.pickmeup;if(a||!b.is(":visible")){var d=g(this),c=d.data("pickmeup-options"),f=d.offset(),n=document.documentElement.scrollLeft,e=document.documentElement.scrollTop,h=document.documentElement.clientWidth,u=document.documentElement.clientHeight,m=f.top,p=f.left;c.binded.fill();
d.is("input")&&((a=d.val())&&d.pickmeup("set_date",l(a,c.format,c.separator,c.locale)),d.keydown(function(a){9==a.which&&d.pickmeup("hide")}),c.lastSel=!1);c.before_show();if(0!=c.show()&&!c.flat){switch(c.position){case "top":m-=b.outerHeight();break;case "left":p-=b.outerWidth();break;case "right":p+=this.offsetWidth;break;case "bottom":m+=this.offsetHeight}m+b.offsetHeight>e+u&&(m=f.top-b.offsetHeight);m<e&&(m=f.top+this.offsetHeight+b.offsetHeight);p+b.offsetWidth>n+h&&(p=f.left-b.offsetWidth);
p<n&&(p=f.left+this.offsetWidth);b.css({display:"inline-block",top:m+"px",left:p+"px"});g(document).on(r(c.trigger_event,c.events_namespace),c.binded.hide).on("resize"+c.events_namespace,[!0],c.binded.forced_show)}}}function E(){z.call(this,!0)}function F(a){if(!a||!a.target||a.target!=this&&!(this.pickmeup.get(0).compareDocumentPosition(a.target)&16)){a=this.pickmeup;var b=g(this).data("pickmeup-options");0!=b.hide()&&(a.hide(),g(document).off(r(b.trigger_event,b.events_namespace),b.binded.hide).off("resize",
b.binded.forced_show),b.lastSel=!1)}}function G(){var a=g(this).data("pickmeup-options");g(document).off(r(a.trigger_event,a.events_namespace),a.binded.hide).off("resize",a.binded.forced_show);a.binded.forced_show()}function H(){var a=g(this).data("pickmeup-options");"single"!=a.mode&&(a.date=[],a.lastSel=!1,a.binded.fill())}function I(a){"undefined"==typeof a&&(a=!0);var b=this.pickmeup,d=g(this).data("pickmeup-options");b.hasClass("pmu-view-years")?d.current.addYears(-12):b.hasClass("pmu-view-months")?
d.current.addYears(-1):b.hasClass("pmu-view-days")&&d.current.addMonths(-1);a&&d.binded.fill()}function J(a){"undefined"==typeof a&&(a=!0);var b=this.pickmeup,d=g(this).data("pickmeup-options");b.hasClass("pmu-view-years")?d.current.addYears(12):b.hasClass("pmu-view-months")?d.current.addYears(1):b.hasClass("pmu-view-days")&&d.current.addMonths(1);a&&d.binded.fill()}function K(a){var b=g(this).data("pickmeup-options"),d=y(b);return"string"===typeof a?(d=d[1],d.constructor==Date?w(d,a,b.locale):d.map(function(c){return w(c,
a,b.locale)})):d[a?0:1]}function L(a,b){var d=g(this),c=d.data("pickmeup-options"),f;if(!(a instanceof Array)||0<a.length)if(c.date=l(a,c.format,c.separator,c.locale),"single"!=c.mode)for(c.date instanceof Array?(c.date[0]=c.date[0]||l(new Date),"range"==c.mode&&(c.date[1]=c.date[1]||l(c.date[0]))):(c.date=[c.date],"range"==c.mode&&c.date.push(l(c.date[0]))),f=0;f<c.date.length;++f)c.date[f]=A(c.date[f],c.min,c.max);else c.date instanceof Array&&(c.date=c.date[0]),c.date=A(c.date,c.min,c.max);else c.date=
[];if(!c.select_day)if(c.date instanceof Array)for(f=0;f<c.date.length;++f)c.date[f].setDate(1);else c.date.setDate(1);if("multiple"==c.mode)for(f=0;f<c.date.length;++f)c.date.indexOf(c.date[f])!==f&&(c.date.splice(f,1),--f);b?c.current=l(b):(b="single"===c.mode?c.date:c.date[c.date.length-1],c.current=b?new Date(b):new Date);c.current.setDate(1);c.binded.fill();d.is("input")&&!1!==c.default_date&&(f=y(c),d.val()||c.change.apply(this,f),d.val("single"==c.mode?f[0]:f[0].join(c.separator)))}function M(){var a=
g(this),b=a.data("pickmeup-options");a.removeData("pickmeup-options");a.off(b.events_namespace);g(document).off(b.events_namespace);g(this.pickmeup).remove()}function A(a,b,d){return b&&b>a?new Date(b):d&&d<a?new Date(d):a}var N=0;g.pickmeup=g.extend(g.pickmeup||{},{current:null,date:new Date,default_date:new Date,flat:!1,first_day:1,prev:"&#9664;",next:"&#9654;",mode:"single",select_year:!0,select_month:!0,select_day:!0,view:"days",calendars:1,format:"d-m-Y",title_format:"B, Y",position:"bottom",
trigger_event:"click touchstart",class_name:"",separator:" - ",hide_on_select:!1,min:null,max:null,render:function(){},change:function(){return!0},before_show:function(){return!0},show:function(){return!0},hide:function(){return!0},fill:function(){return!0},locale:{days:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),daysShort:"Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),daysMin:"Su Mo Tu We Th Fr Sa Su".split(" "),months:"January February March April May June July August September October November December".split(" "),
monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")}});var O={years:"pmu-view-years",months:"pmu-view-months",days:"pmu-view-days"},x={wrapper:'<div class="pickmeup" />',head:function(a){for(var b="",d=0;7>d;++d)b+="<div>"+a.day[d]+"</div>";return'<div class="pmu-instance"><nav><div class="pmu-prev pmu-button">'+a.prev+'</div><div class="pmu-month pmu-button" /><div class="pmu-next pmu-button">'+a.next+'</div></nav><nav class="pmu-day-of-week">'+b+"</nav></div>"},body:function(a,
b){for(var d="",c=0;c<a.length;++c)d+='<div class="'+a[c].class_name+' pmu-button">'+a[c].text+"</div>";return'<div class="'+b+'">'+d+"</div>"}};g.fn.pickmeup=function(a){if("string"===typeof a){var b,d=Array.prototype.slice.call(arguments,1);switch(a){case "hide":case "show":case "clear":case "update":case "prev":case "next":case "destroy":this.each(function(){if(b=g(this).data("pickmeup-options"))b.binded[a]()});break;case "get_date":return(b=this.data("pickmeup-options"))?b.binded.get_date(d[0]):
null;case "set_date":this.each(function(){(b=g(this).data("pickmeup-options"))&&b.binded[a].apply(this,d)})}return this}return this.each(function(){var c=g(this);if(!c.data("pickmeup-options")){var b,d,e=g.extend(!0,{},g.pickmeup,a||{});for(b in e)d=c.data("pmu-"+b),"undefined"!==typeof d&&(e[b]=d);"days"!=e.view||e.select_day||(e.view="months");"months"!=e.view||e.select_month||(e.view="years");"years"!=e.view||e.select_year||(e.view="days");"days"!=e.view||e.select_day||(e.view="months");e.calendars=
Math.max(1,parseInt(e.calendars,10)||1);e.mode=/single|multiple|range/.test(e.mode)?e.mode:"single";e.min&&(e.min=l(e.min,e.format,e.separator,e.locale),e.select_day||e.min.setDate(1));e.max&&(e.max=l(e.max,e.format,e.separator,e.locale),e.select_day||e.max.setDate(1));var h=g(x.wrapper);this.pickmeup=h;e.class_name&&h.addClass(e.class_name);var u="";for(b=0;b<e.calendars;b++)d=e.first_day,u+=x.head({prev:e.prev,next:e.next,day:[e.locale.daysMin[d++%7],e.locale.daysMin[d++%7],e.locale.daysMin[d++%
7],e.locale.daysMin[d++%7],e.locale.daysMin[d++%7],e.locale.daysMin[d++%7],e.locale.daysMin[d++%7]]});c.data("pickmeup-options",e);for(b in e)-1!=["render","change","before_show","show","hide"].indexOf(b)&&(e[b]=e[b].bind(this));e.binded={fill:B.bind(this),update_date:C.bind(this),click:D.bind(this),show:z.bind(this),forced_show:E.bind(this),hide:F.bind(this),update:G.bind(this),clear:H.bind(this),prev:I.bind(this),next:J.bind(this),get_date:K.bind(this),set_date:L.bind(this),destroy:M.bind(this)};
e.events_namespace=".pickmeup-"+ ++N;h.on(r(e.trigger_event,e.events_namespace),e.binded.click).addClass(O[e.view]).append(u).on(g.support.selectstart?"selectstart":"mousedown",function(a){a.preventDefault()});e.flat?h.appendTo(this).css({position:"relative",display:"inline-block"}):(h.appendTo(document.body),c.on(r(e.trigger_event,e.events_namespace),e.binded.show));e.binded.set_date(e.date,e.current)}})}});
